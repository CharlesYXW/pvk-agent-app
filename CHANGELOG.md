# 更新日志 (Changelog)

## [v0.3.2] - 2025-10-22

### ⚡ 快捷操作功能升级

**从"显示命令"升级为"直接操作"**

#### 🔑 API 密钥设置（UI 直接操作）
- ✅ 实时显示当前 API 密钥配置状态
- ✅ 密码输入框，安全输入新密钥
- ✅ 一键保存到 `.env` 文件
- ✅ 自动更新当前环境变量
- ✅ 成功提示 + 气球动画
- ✅ 无需手动编辑文件或终端操作

#### 📚 知识库索引重建（UI 直接操作）
- ✅ 显示当前文档数量和索引状态
- ✅ 一键执行完整构建流程
- ✅ 实时进度提示（spinner）
- ✅ 显示处理统计（文档数、分块数）
- ✅ 自动清除缓存，确保立即生效
- ✅ 成功提示 + 气球动画
- ✅ 无需运行 `build_knowledge_base.py` 脚本

#### 🎨 界面优化
- ✅ 使用 Tab 标签页组织功能
- ✅ 清晰的状态反馈
- ✅ 友好的错误提示
- ✅ 所有操作在侧边栏内完成，不溢出

**用户体验提升**: 从"查看命令自己执行" → "直接在 UI 上点击完成"

---

## [v0.3.1] - 2025-10-22

### 🎨 UI 配色优化

**基于用户反馈的视觉改进**

#### 导航按钮配色优化
- ✅ 将选中状态的按钮颜色从**红色**改为**深蓝色** (#1e3a8a)
- ✅ 更加专业、商务化的视觉效果
- ✅ 悬停效果使用协调的蓝色系

#### 页面头部卡片配色优化
所有功能页面的渐变色改为更加沉稳的色系：
- 知识库问答: 深蓝灰色渐变 (#2c3e50 → #34495e)
- 文献检索: 深绿色渐变 (#16a085 → #1abc9c)
- XRD分析: 深蓝色渐变 (#2980b9 → #3498db)
- 性能预测: 深绿灰色渐变 (#27ae60 → #2ecc71)
- 实验优化: 深橙灰色渐变 (#d35400 → #e67e22)

#### 快捷操作按钮交互优化
- ✅ 修复点击后内容被遮挡的问题
- ✅ 使用 `session_state` 管理显示状态
- ✅ 命令显示在侧边栏内，不溢出
- ✅ 支持点击切换显示/隐藏

### 📚 文档优化
- ✅ 新增 `USER_GUIDE.md` 统一使用指南（整合所有功能说明）
- ✅ 删除分散的文档：`SYSTEM_STATUS_GUIDE.md`, `FEATURES_v0.3.0.md`, `UI_IMPROVEMENTS.md`
- ✅ 更新 `README.md` 添加对新文档的引用

---

## [v0.3.0] - 2025-10-22

### ✨ 新增功能

#### 🔍 系统状态监控面板
- 新增独立的 `system_status.py` 模块，实时检测系统依赖状态
- 支持检测以下 6 项关键配置：
  - ✅ API 密钥 (DashScope)
  - ✅ 知识库索引状态
  - ✅ 知识库文档数量
  - ✅ XRD 示例数据
  - ✅ 性能预测训练数据
  - ✅ Conda 运行环境
- 状态面板自动展开/折叠（核心依赖缺失时自动展开）
- 为每个未就绪项提供一键复制的修复命令
- 新增"刷新状态检查"按钮

#### 🎨 导航与布局全面优化
- **卡片式导航**：每个功能配有专属图标和描述文字
  - 💬 知识库问答
  - 📰 文献检索
  - 📈 XRD分析
  - 💡 性能预测
  - 🚀 实验优化
- **当前页面高亮**：使用 `primary` 按钮样式标记活动页面
- **快捷操作区**：侧边栏新增常用操作入口
  - 📚 一键重建索引
  - 🔑 快速设置 API 密钥
- **页面头部美化**：所有功能页面采用渐变色卡片设计
  - 知识库问答：紫色渐变
  - 文献检索：粉红渐变
  - XRD分析：蓝色渐变
  - 性能预测：绿色渐变
  - 实验优化：橙黄渐变
- **动效增强**：导航按钮增加悬停动画效果

### 📚 文档更新
- 更新 `README.md`，记录新功能和使用说明
- 更新 `TODO.md`，标记已完成任务并添加实现细节
- 新增 `CHANGELOG.md` 更新日志

### 🐛 问题修复
- 修复了 Streamlit 的 `use_container_width` 弃用警告（后续版本将统一替换为 `width`）

### 🔧 技术改进
- 代码结构优化，系统状态检测逻辑模块化
- 增强错误提示和用户引导
- 所有状态检查函数增加返回值说明文档

---

## [v0.2.0] - 2025-10-17

### ✨ 新增功能
- 启动流程优化：全面升级 `start_app.command` 启动脚本
- 文献检索排序选项：支持"按相关度"和"按最新发表"排序

### 🎨 UI/UX 优化
- 修复 Logo 显示问题
- 按钮颜色和样式多轮迭代优化

### 🤖 AI 功能增强
- AI 助手设定"晶澳科技钙钛矿研究部"专属身份
- 增加主动问候功能
- 严格防"杜撰"指令，提升回答真实性和严谨性

---

## [v0.1.0] - 2025-10-16

### 🎉 初始版本发布
- ✅ 知识管理系统（RAG）
- ✅ 文献智能检索（arXiv）
- ✅ XRD 数据自动分析
- ✅ 材料性能预测模型
- ✅ 实验方案优化算法
- ✅ 基础 Web 界面（Streamlit）
